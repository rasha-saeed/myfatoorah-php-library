build:
  nodes:
    analysis:
      environment:
        php:
          version: "8.1"

      dependencies:
        override:
          # ðŸ”‘ force Composer 2 BEFORE anything
          - curl -sS https://getcomposer.org/installer | php -- --2
          - php composer.phar --version
          - php composer.phar install --prefer-dist --no-interaction

      tests:
        override:
          - php composer.phar exec phpunit

checks:
  php:
    code_rating: true
    duplication: true

filter:
  excluded_paths:
    - vendor/*
